<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TE3201 Programming Basics: Error Handling</title>
    <link rel="stylesheet" href="..\..\markbind\css\bootstrap.min.css">
    <link rel="stylesheet" href="..\..\markbind\css\github.min.css">
    <link rel="stylesheet" href="..\..\markbind\css\markbind.css">
</head>
<body>
<div id="app" class="container-fluid">
    <link rel="stylesheet" href="/website/programming/css/programming.css">
<div class="website-content">
  <div id="toc">
    <p><span style="float:right"><a href="../index.html"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> ‚Üë</a>
      </span>
    </p>
    <ul>
      <li><a href="#lists"><strong>Error Handling</strong></a>
        <ul>
          <li><a href="#introdution-to-errors">Introduction to Errors</a></li>
          <li><a href="#syntax-errors">Syntax Errors</a></li>
          <li><a href="#handling-exceptions">Handling Exceptions</a></li>
        </ul>
      </li>
    </ul>
  </div>
  <div id="main">
    <h1 id="error-handling">Error Handling</h1>
    <div>
      <h3 id="introduction-to-errors">Introduction to Errors</h3>
      <p><strong>In Python, there are (at least) two kinds of errors: <em>syntax errors</em> and <em>exceptions</em>.</strong></p>
    </div>
    <hr>
    <hr>
    <div>
      <h3 id="syntax-errors">Syntax Errors</h3>
      <p><strong>A <em>syntax error</em>, also known as a <em>parsing error</em>, is when your code does not follow rules for writing Python code.</strong> Python interpreter shows an error message when it encounters a syntax error.</p>
      <tip-box>
        <p>üì¶ The code below has a syntax error because it breaks the Python rule that requires a <code>:</code> to follow the condition of an <code>if</code> statement.</p>
        <table>
          <tr>
          
            <td>
              <pre><code class="hljs python"><span class="hljs-keyword">if</span> <span class="hljs-number">5</span> &gt; <span class="hljs-number">4</span>
  print(<span class="hljs-string">'Greater'</span>)
  
  
</code></pre>
              <p></p>
            </td>
          
            <td>¬†‚Üí¬†</td>
          
            <td>
              <pre class="hljs"><code>Traceback (most recent call last):
  File &quot;python&quot;, line 1
    if 5 &gt; 4
           ^
SyntaxError: invalid syntax
</code></pre>
              <p></p>
            </td>
          </tr>
        </table>
      </tip-box>
      <p>Some Python editors (e.g., REPL) flag syntax errors even before you run the code.</p>
      <tip-box>
        <p>üì¶ Note how REPL Python editor points out the syntax error using a red ‚ùå in the <em><tooltip content="the column on the extreme left of the editor">gutter</tooltip></em> of the editor.</p>
        <p><img src="/website/programming/errors-syntax/images/syntaxErrorInRepl.png" alt="" width="250"></p>
      </tip-box>
    </div>
    <hr>
    <hr>
    <div>
      <h3 id="handling-exceptions">Handling Exceptions</h3>
      <p><strong>Errors detected during execution are called <em>exceptions</em>.</strong> Even if the code is syntactically correct, it may cause an error during execution. Python <em><tooltip content="_throw_ and _raise_  are two terms used to describe an exception being encountered">throws/raises</tooltip></em>        different types of exceptions; the type of exception used depends on the tye nature of the error.</p>
      <tip-box>
        <p>üì¶ The code below raises an exception when it attempts to divide a number by <code>0</code>. The type of the exception raised is <code>ZeroDivisionError</code>, as mentioned in the last line of the error message.</p>
        <table>
          <tr>
          
            <td>
              <pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">divide</span><span class="hljs-params">(number, divisor)</span>:</span>
  print(<span class="hljs-string">'Starting calculation'</span>)
  result = number/divisor
  print(number, <span class="hljs-string">'/'</span>, divisor, <span class="hljs-string">'='</span>, result)
  print(<span class="hljs-string">'Calculation over!........'</span>)
  
divide(<span class="hljs-number">50</span>, <span class="hljs-number">5</span>)
divide(<span class="hljs-number">3</span>, <span class="hljs-number">0</span>)
</code></pre>
              <p></p>
            </td>
          
            <td>¬†‚Üí¬†<br><br><br><br></td>
          
            <td>
              <pre class="hljs"><code>Starting calculation
50 / 5 = 10.0
Calculation over!........
</code></pre>
              <pre class="hljs"><code>Starting calculation
Traceback (most recent call last):
  File &quot;python&quot;, line 9, in &lt;module&gt;
  File &quot;python&quot;, line 4, in divide
ZeroDivisionError: division by zero
</code></pre>
              <p></p>
            </td>
          </tr>
        </table>
      </tip-box>
      <p>It is not desirable for programs to 'crash' every time an exception occurs. You can <strong>use the <code>try-except</code> syntax to specify how to handle exceptions</strong>. The <code>try</code> clause contains the code that can possibly raise
        an exception while the <code>except</code> clause contains the code that handles the exception.</p>
      <tip-box>
        <p>üì¶ The code below specifies what to do if the <code>ZeroDivisionError</code> is raised, thereby avoiding a program crash in such an event.</p>
        <table>
          <tr>
          
            <td>
              <pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">divide2</span><span class="hljs-params">(number, divisor)</span>:</span>
  print(<span class="hljs-string">'Starting calculation'</span>)
  <span class="hljs-keyword">try</span>:
    result = number/divisor
    print(number, <span class="hljs-string">'/'</span>, divisor, <span class="hljs-string">'='</span>, result)
  <span class="hljs-keyword">except</span> ZeroDivisionError:
    print(<span class="hljs-string">'Cannot divide by zero'</span>)
  print(<span class="hljs-string">'Calculation over!........'</span>)
  
divide2(<span class="hljs-number">3</span>, <span class="hljs-number">0</span>)
divide2(<span class="hljs-number">3</span>, <span class="hljs-number">1.5</span>)
</code></pre>
              <p></p>
            </td>
          
            <td>¬†‚Üí¬†</td>
          
            <td><br><br>
              <p>[<a target="_blank" href="https://goo.gl/rc8X9h">visualize</a>]<br></p>
              <pre class="hljs"><code>Starting calculation
Cannot divide by zero
Calculation over!........

</code></pre>
              <pre class="hljs"><code>Starting calculation
3 / 1.5 = 2.0
Calculation over!........
</code></pre>
              <p></p>
            </td>
          </tr>
        </table>
      </tip-box>
      <p>When the code in a <code>try</code> clause raises an error, the program execution immediately moves to the code in the <code>except</code> clause, provided the exception that happened matches the exception the <code>except</code> clause is supposed
        to <em><tooltip content="_Catch_ is term often used to describe a clause that respondes to a specific exception.">catch</tooltip></em>. After running the code in the <code>except</code> clause, the execution continues as normal.</p>
      <p>If the exception does not match the <code>except</code> clause, the program crashes.</p>
      <tip-box>
        <p>üì¶ The code below crashes because the actual exception <span class="dimmed">(caused by passing a string when an foloating point number is expected)</span> does not match the specified exception <code>ZeroDivisionError</code>.</p>
        <table>
          <tr>
          
            <td>
              <pre><code class="hljs python">divide2(<span class="hljs-number">5</span>, <span class="hljs-string">'abc'</span>)
</code></pre>
              <p><br><br></p>
            </td>
          
            <td>&nbsp;‚Üí&nbsp;<br><br><br><br></td>
          
            <td>
              <pre class="hljs"><code>Starting calculation
Traceback (most recent call last):
  File &quot;python&quot;, line 24, in &lt;module&gt;
  File &quot;python&quot;, line 16, in divide2
TypeError: unsupported operand type(s) for /: 'int' and 'str'
</code></pre>
              <p></p>
            </td>
          </tr>
        </table>
      </tip-box>
      <p><strong>You can specify multiple <code>except</code> clauses</strong>, one for each type of exception expected.</p>
      <tip-box>
        <p>üì¶ The code below handles two types of exceptions: <code>ZeroDivisionError</code> and <code>ValueError</code>.</p>
        <p>üí° The <code>ValueError</code> is raised when the string <code>abc</code> is being converted to a float using <code>float(divisor)</code>.</p>
        <table>
          <tr>
          
            <td>
              <pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">divide3</span><span class="hljs-params">(number, divisor)</span>:</span>
  print(<span class="hljs-string">'Calculating'</span>, number, <span class="hljs-string">'/'</span>, divisor)
  <span class="hljs-keyword">try</span>:
    result = float(number)/float(divisor)
    print(number, <span class="hljs-string">'/'</span>, divisor, <span class="hljs-string">'='</span>, result)
  <span class="hljs-keyword">except</span> ZeroDivisionError:
    print(<span class="hljs-string">'Cannot divide by zero'</span>)
  <span class="hljs-keyword">except</span> ValueError:
    print(<span class="hljs-string">'Cannot divide non-numbers'</span>)
  print(<span class="hljs-string">'Calculation over!........'</span>)
  
divide3(<span class="hljs-number">3</span>, <span class="hljs-number">0</span>)
divide3(<span class="hljs-number">3</span>, <span class="hljs-string">'abc'</span>)
</code></pre>
              <p></p>
            </td>
          
            <td>¬†‚Üí¬†</td>
          
            <td><br><br><br><br><br><br>
              <pre class="hljs"><code>Calculating 3 / 0
Cannot divide by zero
Calculation over!........
</code></pre>
              <pre class="hljs"><code>Calculating 3 / abc
Cannot divide non-numbers
Calculation over!........
</code></pre>
              <p></p>
            </td>
          </tr>
        </table>
      </tip-box>
      <p><strong>It is possible to specify multiple exception types in one <code>except</code> clause.</strong></p>
      <tip-box>
        <p>üì¶ The code below handles both <code>ZeroDivisionError</code> and <code>ValueError</code> in the same <code>except</code> clause.</p>
        <table>
          <tr>
          
            <td>
              <pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">divide4</span><span class="hljs-params">(number, divisor)</span>:</span>
  print(<span class="hljs-string">'Calculating'</span>, number, <span class="hljs-string">'/'</span>, divisor)
  <span class="hljs-keyword">try</span>:
    result = float(number)/float(divisor)
    print(number, <span class="hljs-string">'/'</span>, divisor, <span class="hljs-string">'='</span>, result)
  <span class="hljs-keyword">except</span> (ZeroDivisionError, ValueError):
    print(<span class="hljs-string">'Incorrect inputs'</span>)
  print(<span class="hljs-string">'Calculation over!........'</span>)
  
divide4(<span class="hljs-number">3</span>, <span class="hljs-number">0</span>)
divide4(<span class="hljs-number">3</span>, <span class="hljs-string">'abc'</span>)
</code></pre>
              <p></p>
            </td>
          
            <td>¬†‚Üí¬†</td>
          
            <td><br><br><br><br>
              <pre class="hljs"><code>Calculating 3 / 0
Incorrect inputs
Calculation over!........
</code></pre>
              <pre class="hljs"><code>Calculating 3 / abc
Incorrect inputs
Calculation over!........
</code></pre>
              <p></p>
            </td>
          </tr>
        </table>
      </tip-box>
      <p><a href="https://docs.python.org/3/library/exceptions.html#IndexError"><code>IndexError</code></a> is an exception thrown when you try to access an index (e.g., when reading values form a list) that does not exist.</p>
      <tip-box>
        <p>üì¶</p>
        <table>
          <tr>
          
            <td>
              <pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_head</span><span class="hljs-params">(items)</span>:</span>
  <span class="hljs-keyword">try</span>:
    <span class="hljs-keyword">return</span> items[<span class="hljs-number">0</span>]
  <span class="hljs-keyword">except</span> IndexError:
    <span class="hljs-keyword">return</span> <span class="hljs-string">'List too short'</span>
    
print(get_head([]))
</code></pre>
              <p></p>
            </td>
          
            <td><br><br><br><br><br><br>¬†‚Üí¬†</td>
          
            <td><br><br><br><br><br><br>
              <pre class="hljs"><code>List too short
</code></pre>
              <p></p>
            </td>
          </tr>
        </table>
      </tip-box>
      <p>It is also possible to <strong>use <code>except Exception</code> to catch any kind of exception</strong>. However, that practice is discouraged.</p>
      <tip-box>
        <p>üì¶ The code below handles both <code>ZeroDivisionError</code> and <code>ValueError</code> in the same <code>except</code> clause.</p>
        <table>
          <tr>
          
            <td>
              <pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_head2</span><span class="hljs-params">(items)</span>:</span>
  <span class="hljs-keyword">try</span>:
    <span class="hljs-keyword">return</span> items[<span class="hljs-number">0</span>]
  <span class="hljs-keyword">except</span> Exception:
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Something wrong'</span>
    
print(get_head2(<span class="hljs-number">2</span>))
</code></pre>
              <p></p>
            </td>
          
            <td><br><br><br><br><br><br>¬†‚Üí¬†</td>
          
            <td><br><br><br><br><br><br>
              <pre class="hljs"><code>Something wrong
</code></pre>
              <p></p>
            </td>
          </tr>
        </table>
      </tip-box>
      <panel type="seamless" header="%%:computer: Try your own%%">
        <iframe height="400px" width="100%" src="https://repl.it/@pythonbasics/errors-exceptions-handling?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe></panel>
      <p>üìé <strong>Resources</strong>:</p>
      <ul>
        <li><a href="https://www.tutorialspoint.com/python/standard_exceptions.htm">Python built-in exceptions</a></li>
      </ul>
      <panel type="danger" header=":muscle: Exercise: Enter Integer" expanded="" no-close="">
        <div>
          <h4 id="exercise-enter-integer">Exercise : Enter Integer</h4>
          <p>The code below assumes the entered string will always represent an integer.</p>
          <pre><code class="hljs python">value = input(<span class="hljs-string">'Input an integer:'</span>)
print(<span class="hljs-string">'You entered'</span>, value)
</code></pre>
          <p>However, users may not follow that assumption. If the user were to enter a non-integer string, the program crashes. To avoid such crashes, programs need to do <em>input validation</em> i.e., perform checks on inputs to ensure their validity.</p>
          <p>Update the above code so that it accepts integers only, and produces the behavior given below.</p>
          <pre class="hljs"><code>Input an integer: x
That is not an integer, try again
Input an integer: 5.5
That is not an integer, try again
Input an integer: 6
You entered 6
</code></pre>
          <panel type="seamless" header="%%:bulb: Hint%%">
            <ul>
              <li><a href="https://www.programiz.com/python-programming/methods/built-in/int">The <code>int(s)</code> function</a> raises a <code>ValueError</code> when the string <code>s</code> does not represent an integer.</li>
              <li>You can use a <code>while True</code> loop to repeatedly ask for an input until the user enters an integer.
              </li>
            </ul>
          </panel>

          <panel type="seamless" header="%%:bulb: Partial solution%%">
            <pre><code class="hljs python"><span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
  <span class="hljs-keyword">try</span>:
    value = int(input(<span class="hljs-string">'Input an integer:'</span>))
    <span class="hljs-comment"># YOUR CODE HERE! print? break? continue?</span>
  <span class="hljs-keyword">except</span> ValueError:
    <span class="hljs-comment"># YOUR CODE HERE!</span>
    
print(<span class="hljs-string">'You entered'</span>, value)
</code></pre>
          </panel>
        </div>
      </panel>
      <p></p>
    </div>
    <hr>
    <hr>
  </div>
</div>
</div>
</body>
<script src="..\..\markbind\js\vue.min.js"></script>
<script src="..\..\markbind\js\vue-strap.min.js"></script>
<script src="..\..\markbind\js\setup.js"></script>
</html>
